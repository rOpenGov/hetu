<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generic Extraction Tool for Finnish Personal Identity Codes — hetu • hetu</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generic Extraction Tool for Finnish Personal Identity Codes — hetu"><meta name="description" content="Extract embedded information from Finnish personal identity
   codes (hetu)."><meta property="og:description" content="Extract embedded information from Finnish personal identity
   codes (hetu)."><meta property="og:image" content="https://ropengov.github.io/hetu/logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@rOpenGov"><meta name="twitter:site" content="@rOpenGov"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=B612+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;family=Roboto+Mono:ital,wght@0,100..700;1,100..700&amp;display=swap" rel="stylesheet"><!-- rogtemplate style sheet --><link href="../BS5/rogtemplate.min.css" rel="stylesheet"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hetu</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hetu.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rOpenGov/hetu/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generic Extraction Tool for Finnish Personal Identity Codes</h1>
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/hetu/blob/main/R/hetu.R" class="external-link"><code>R/hetu.R</code></a></small>
      <div class="d-none name"><code>hetu.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract embedded information from Finnish personal identity
   codes (hetu).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hetu</span><span class="op">(</span></span>
<span>  <span class="va">pin</span>,</span>
<span>  extract <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  allow.temp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diagnostic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as.factor <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pin">pin<a class="anchor" aria-label="anchor" href="#arg-pin"></a></dt>
<dd><p>Finnish personal identity code(s) as a character vector</p></dd>


<dt id="arg-extract">extract<a class="anchor" aria-label="anchor" href="#arg-extract"></a></dt>
<dd><p>Extract only selected part of the information.
Valid values are "<code>hetu</code>", "<code>sex</code>", "<code>p.num</code>",
"<code>ctrl.char</code>", "<code>date</code>", "<code>day</code>", "<code>month</code>",
"<code>year</code>", "<code>century</code>", "<code>is.temp</code>".
If <code>NULL</code> (default), returns all information.</p></dd>


<dt id="arg-allow-temp">allow.temp<a class="anchor" aria-label="anchor" href="#arg-allow-temp"></a></dt>
<dd><p>Allow artificial or temporary PINs (personal numbers
900-999). If <code>FALSE</code> (default), only PINs intended for official
use (personal numbers 002-899) are allowed.</p></dd>


<dt id="arg-diagnostic">diagnostic<a class="anchor" aria-label="anchor" href="#arg-diagnostic"></a></dt>
<dd><p>Print additional information about possible problems in
PINs. The checks are "<code>valid.p.num</code>", "<code>valid.ctrl.char</code>",
"<code>correct.ctrl.char</code>", "<code>valid.date</code>", "<code>valid.day</code>",
"<code>valid.month</code>", "<code>valid.length</code>", "<code>valid.century</code>".
Default is <code>FALSE</code> which returns no diagnostic information.</p></dd>


<dt id="arg-as-factor">as.factor<a class="anchor" aria-label="anchor" href="#arg-as-factor"></a></dt>
<dd><p>Makes fields "<code>sex</code>", "<code>p.num</code>",
"<code>ctrl.char</code>" and "<code>century</code>" into factors for slightly reduced
memory footprint. Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Finnish personal identity code data.frame,
    or if extract parameter is set, the requested part of the
   information as a vector. Returns an error or <code>NA</code> if the given
   character vector is not a valid Finnish personal identity code.</p>
<dl><dt>hetu</dt>
<dd><p>Finnish personal identity code as a character vector.
    A correct pin should be in the form DDMMYYCZZZQ, where DDMMYY stands for
    date, C for century sign, ZZZ for personal number and Q for control
    character.</p></dd>

<dt>sex</dt>
<dd><p>sex of the person as a character vector ("Male" or "Female")</p></dd>

<dt>p.num</dt>
<dd><p>Personal number (individual number) part of the identity code</p></dd>

<dt>ctrl.char</dt>
<dd><p>Control character for the personal identity code</p></dd>

<dt>date</dt>
<dd><p>Birthdate</p></dd>

<dt>day</dt>
<dd><p>Day of the birthdate</p></dd>

<dt>month</dt>
<dd><p>Month of the birthdate</p></dd>

<dt>year</dt>
<dd><p>Year of the birthdate</p></dd>

<dt>century</dt>
<dd><p>Century character determining the century (1800s, 1900s or
2000s) of the person's birth. See details for more information</p></dd>

<dt>valid.pin</dt>
<dd><p>Does the personal identity code pass all validity
   checks: (<code>TRUE</code> or <code>FALSE</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Starting from 1st of January 2023, an amendment to the government decree on
the Population Information System (128/2010) has expanded the
number of available century markers (See references: Valtioneuvoston asetus
VM/2022/124) and scrapped some old practices.</p>
<p>For the users of this package the most visible change will be that
people born in the 1900s can now be assigned with "Y", "X", "W", "V" or "U",
in addition to the old "-" (slash) marker. People born in the 2000s can be
assigned with "B", "C", "D", E" or "F", in addition to the old marker, "A".
For people born in the 1800s "+" (plus sign) remains the only valid marker.
The amendment does not affect already existing personal identity codes.</p>
<p>The change was done to mitigate for the diminishing pool of available, unique
identity codes. For historical reasons, the century marker of
the code was not always taken into account when determining the uniqueness
of the number. This meant that individual number parts were not recycled
between people born in different centuries, diminishing the amount of
available numbers for people born in the new century.
For example, if a female born in the 1st of January 1901
was assigned with the personal identity code "010101-0101" (individual code
part "010"), a female born in 1st of January 2001 could not be assigned with
the code "010101A0101" because it would contain the same individual code
as the person born in 1901 and individual codes could not be recycled. With
the amended decree the uniqueness of the personal identity code is considered
by looking at the personal identity code as a whole. This means that from now
on it would be permissible to have personal identity codes such as
"100190-999P" and "100190Y999P" at the same time, denoting two different
individuals (see references: Digital and population data services agency
announcement).</p>
<p>In practice, codes with new separators will be issued only when the ranges
ranges with currently used separators run out. This means that it might
take a while until we see people born in the 2000s assigned with the century
marker "C" or people born in the 1900s assigned with the century marker "X",
as there are still plenty of numbers in ranges "B" and "Y" as well, in
addition to some numbers being left in the original ranges of "A" and "-".
The first personal identity code with a new separator "Y" was assigned
in December 2023 (see Digi- ja väestötietovirasto 2023).</p>
<p>The result of all this is that the hetu package may now give "unrealistic"
personal identity codes in the sense that some codes are not yet actually
in use. However, it is not the aim of this package to simulate the
actual distributions of personal identity codes and their century markers in
the population (the actually used and unused codes are unknown to us),
but to provide a tool that can be used to extract data from these codes,
should the user encounter them at some point. Writing further sanity checks
is probably a good idea for people who are interested in detecting unusual
patterns in their databases and registries.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Valtioneuvoston asetus VM/2022/124 <a href="https://vm.fi/paatos?decisionId=0900908f807c5f3c" class="external-link">Valtioneuvoston asetus VM/2022/124</a></p>
<p>Digi- ja väestötietovirasto. (2023). <a href="https://dvv.fi/-/uudet-valimerkit-takaavat-henkilotunnusten-riittavyyden-ensimmainen-uudenlainen-henkilotunnus-myonnettiin-talla-viikolla" class="external-link">Uudet välimerkit takaavat henkilötunnusten riittävyyden - ensimmäinen uudenlainen henkilötunnus myönnettiin tällä viikolla</a></p>
<p>Digital and Population Data Services Agency. <a href="https://dvv.fi/en/reform-of-personal-identity-code" class="external-link">Reform of the separators in the personal identity code</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="pin_ctrl.html">pin_ctrl</a></code> Validating Finnish personal identity codes.
<code><a href="rpin.html">rhetu</a></code> Generating random Finnish personal identity codes.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Pyry Kantanen, Jussi Paananen</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="st">"111111-111C"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          hetu  sex p.num ctrl.char       date day month year century valid.pin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 111111-111C Male   111         C 1911-11-11  11    11 1911       -      TRUE</span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="st">"111111-111C"</span><span class="op">)</span><span class="op">$</span><span class="va">date</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1911-11-11"</span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="st">"111111-111C"</span><span class="op">)</span><span class="op">$</span><span class="va">sex</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Male"</span>
<span class="r-in"><span><span class="co"># Same as previous, but using extract argument</span></span></span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="st">"111111-111C"</span>, extract<span class="op">=</span><span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Male"</span>
<span class="r-in"><span><span class="co"># Process a vector of hetu's</span></span></span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010101-0101"</span>, <span class="st">"111111-111C"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          hetu    sex p.num ctrl.char       date day month year century</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 010101-0101 Female   010         1 1901-01-01   1     1 1901       -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 111111-111C   Male   111         C 1911-11-11  11    11 1911       -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   valid.pin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      TRUE</span>
<span class="r-in"><span><span class="co"># Process a vector of hetu's and extract sex information from each</span></span></span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010101-0101"</span>, <span class="st">"111111-111C"</span><span class="op">)</span>, extract<span class="op">=</span><span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Female" "Male"  </span>
<span class="r-in"><span><span class="co"># Process codes with new century markers</span></span></span>
<span class="r-in"><span><span class="va">new_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010594Y9032"</span>, <span class="st">"010594Y9021"</span>, <span class="st">"020594X903P"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">hetu</span><span class="op">(</span><span class="va">new_codes</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pyry Kantanen, Mans Magnusson, Jussi Paananen, Leo Lahti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>



    <!-- Add ropengov logo -->
  <script src="../BS5/logo.js"></script></body></html>

